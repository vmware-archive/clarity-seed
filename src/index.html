<!--
  ~ Copyright (c) 2016 VMware, Inc. All Rights Reserved.
  ~ This software is released under MIT license.
  ~ The full license information can be found in LICENSE in the root directory of this project.
  -->
<!DOCTYPE html>
<html>
<head>
  <title>Clarity Seed App</title>
  <base href="/">
  <script>
    // Fixes undefined module function in SystemJS bundle
    function module() {}
  </script>
  <!-- @if NODE_ENV='dev' -->
  <script src="node_modules/core-js/client/shim.min.js"></script>
  <script src="node_modules/zone.js/dist/zone.js"></script>
  <script src="node_modules/reflect-metadata/Reflect.js"></script>
  <script src="node_modules/systemjs/dist/system.src.js"></script>
  <script src="node_modules/web-animations-js/web-animations.min.js"></script>
  <script src="node_modules/mutationobserver-shim/dist/mutationobserver.min.js"></script>
  <script src="node_modules/@webcomponents/custom-elements/custom-elements.min.js"></script>
  <script src="node_modules/clarity-icons/clarity-icons.min.js"></script>
  <!-- @endif -->
  <!-- @if NODE_ENV='prod' -->
  <script src="vendor.js"></script>
  <!-- @endif -->
  <link rel="stylesheet" href="clarity-icons.min.css">
  <link rel="stylesheet" href="clarity-ui.min.css">
</head>
<body>

<my-app>loading...</my-app>
<script>
  (function (global) {

    // packages tells the System loader how to load when no filename and/or no extension
    var packages = {
      'app':                                { main: 'index.js', defaultExtension: 'js' },
      'clarity-angular':                    { main: 'index.js', defaultExtension: 'js' },
      'rxjs':                               { main: 'Rx.js', defaultExtension: 'js' },
      '@angular/core':                      { main: 'bundles/core.umd.js', defaultExtension: 'js' },
      '@angular/compiler':                  { main: 'bundles/compiler.umd.js', defaultExtension: 'js' },
      '@angular/common':                    { main: 'bundles/common.umd.js', defaultExtension: 'js' },
      '@angular/forms':                     { main: 'bundles/forms.umd.js', defaultExtension: 'js' },
      '@angular/http':                      { main: 'bundles/http.umd.js', defaultExtension: 'js' },
      '@angular/platform-browser':          { main: 'bundles/platform-browser.umd.js', defaultExtension: 'js' },
      '@angular/platform-browser-dynamic':  { main: 'bundles/platform-browser-dynamic.umd.js', defaultExtension: 'js' },
      '@angular/router':                    { main: 'bundles/router.umd.js', defaultExtension: 'js' }
    };

    var config = {
      <!-- @if NODE_ENV='dev' -->
      map: {
        'clarity-angular':                    'node_modules/clarity-angular',
        'rxjs':                               'node_modules/rxjs',
        '@angular/core':                      'node_modules/@angular/core',
        '@angular/common':                    'node_modules/@angular/common',
        '@angular/compiler':                  'node_modules/@angular/compiler',
        '@angular/platform-browser':          'node_modules/@angular/platform-browser',
        '@angular/platform-browser-dynamic':  'node_modules/@angular/platform-browser-dynamic',
        '@angular/http':                      'node_modules/@angular/http',
        '@angular/router':                    'node_modules/@angular/router',
        '@angular/forms':                     'node_modules/@angular/forms'
      },
      <!-- @endif -->
      packages: packages
    };
    System.config(config);

  })(this);

</script>
<!-- @if NODE_ENV='prod' -->
<script src="app.js"></script>
<!-- @endif -->
<script>
  System.import('app/main')
    .catch(function(err){ console.error(err); });
</script>
</body>
</html>
